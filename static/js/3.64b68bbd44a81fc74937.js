webpackJsonp([3],{"4B0c":function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("nav",t._l(t.data,function(a,e){return i("span",{key:e,staticClass:"nav-item",class:{"nav-active":t.active==a.active},on:{click:function(i){t.active=a.active}}},[t._v("\n    "+t._s(a.name)+"\n  ")])}))},staticRenderFns:[]};var s=i("vSla")({props:["data"],data:function(){return{active:this.data[0].active}},watch:{active:function(t){this.$emit("setActive",t)}}},e,!1,function(t){i("8xeC")},"data-v-228d91e1",null);a.a=s.exports},"8xeC":function(t,a){},IA9E:function(t,a){},YT0X:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("gyMJ"),s=i("KgXo"),n=i("/Nt4"),o=i("4B0c"),c={components:{loading:s.a,song:n.a,tabBar:o.a},data:function(){return{data:{},loading:!0,mv:[],tab:[{name:"总榜",active:"all"},{name:"内地",active:"mainland"},{name:"港台",active:"hktw"},{name:"欧美",active:"euus"},{name:"韩国",active:"kr"},{name:"日本",active:"jp"}],tabFixed:!1}},computed:{song:function(){return this.data.songlist&&this.data.songlist.map(function(t){return{id:t.data.songid,mid:t.data.songmid,title:t.data.songname,singer:t.data.singer,album:{mid:t.data.albummid,title:t.data.albumname},mv:{vid:t.data.vid}}})},listId:function(){return this.$route.params.id}},methods:{loadMVToplist:function(t){var a=this;this.loading=!0,this.mv=[],this.$jsonp(e.a.GET_MV_TOPLIST,{listtype:t,callbackName:"get_mv_toplist"}).then(function(t){a.mv=t.data.list,a.loading=!1})},setActive:function(t){this.loadMVToplist(t)}},mounted:function(){var t=this;this.loading=!0,this.$jsonp(e.a.GET_TOPLIST_INFO,{topid:this.listId,callbackName:"get_toplist_info"}).then(function(a){t.data=a,t.loading=!1,t.$nextTick(function(){var a=3.2*parseFloat(document.documentElement.style.fontSize),i=t.$refs.scrollView;i.addEventListener("scroll",function(){var e=i.scrollTop;e<=a?(t.$refs.title.style.opacity=(e/a).toFixed(1),t.tabFixed=!1):(t.$refs.title.style.opacity=1,t.tabFixed=!0),t.$refs.cover.style.zIndex=0===e?0:-1})})}),"201"===this.listId&&this.loadMVToplist("all")}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"toplist-detail"}},[t.data.topinfo?e("header",[e("span",{staticClass:"back",on:{click:function(a){t.$router.back()}}}),t._v(" "),e("span",{ref:"title",staticClass:"title"},[t._v(t._s(t.data.topinfo.ListName))])]):t._e(),t._v(" "),t.data.topinfo?e("div",{ref:"cover",staticClass:"cover"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:t.data.topinfo.pic_v12,alt:""}})]),t._v(" "),e("div",{staticClass:"content"},[e("p",{staticClass:"title"},[t._v(t._s(t.data.topinfo.ListName))]),t._v(" "),"1"!=t.data.day_of_year?e("p",[t._v("第"+t._s(t.data.day_of_year?t.data.day_of_year+"天":t.data.date.slice(-2)+"周"))]):t._e(),t._v(" "),t.data.update_time?e("p",[t._v(t._s(t.data.update_time)+" 更新")]):t._e()])]),t._v(" "),e("div",{staticClass:"bg-mask"}),t._v(" "),e("div",{staticClass:"bg-blur",style:{"background-image":"url("+t.data.topinfo.pic_v12+")"}})]):t._e(),t._v(" "),t.data.topinfo?e("div",{ref:"scrollView",staticClass:"container"},[e("song",{staticStyle:{"margin-top":"3.2rem"},attrs:{data:t.song}}),t._v(" "),"201"===t.listId?e("tab-bar",{class:{fixed:t.tabFixed},attrs:{data:t.tab},on:{setActive:t.setActive}}):t._e(),t._v(" "),e("div",{staticClass:"mv-list"},t._l(t.mv,function(a,s){return e("div",{key:s,staticClass:"mv-list-item",on:{click:function(i){t.$router.push("/mv/"+a.info.Fvid)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:a.info.Fpic,error:i("0SwP"),loading:i("0SwP")},expression:"{src: item.info.Fpic, error: require('../../assets/img/mv.png'), loading: require('../../assets/img/mv.png')}"}],attrs:{alt:""}}),t._v(" "),e("div",{staticClass:"mask"},[e("span",{staticClass:"rank"},[t._v(t._s(s+1))]),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(a.score))]),t._v(" "),e("p",{staticClass:"title"},[t._v(t._s(a.info.Fmv_title)+" - "+t._s(a.singers.map(function(t){return t.name}).join(" / ")))])])])}))],1):t._e(),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},staticRenderFns:[]};var r=i("vSla")(c,l,!1,function(t){i("IA9E")},"data-v-c6cde4fc",null);a.default=r.exports}});